{"version":3,"file":"searxng.min.js","sources":["../../../../../client/modern/src/js/main/00_toolkit.js","../../../../../client/modern/src/js/main/infinite_scroll.js","../../../../../client/modern/src/js/main/keyboard.js","../../../../../client/modern/src/js/main/mapresult.js","../../../../../client/modern/src/js/main/preferences.js","../../../../../client/modern/src/js/main/results.js","../../../../../client/modern/node_modules/autocomplete-js/dist/autocomplete.js","../../../../../client/modern/src/js/main/search.js"],"sourcesContent":["/**\r\n * @license\r\n * (C) Copyright Contributors to the SearXNG project.\r\n * (C) Copyright Contributors to the searx project (2014 - 2021).\r\n * SPDX-License-Identifier: AGPL-3.0-or-later\r\n */\r\nwindow.searxng = (function (w, d) {\r\n\r\n  'use strict';\r\n\r\n  // not invented here toolkit with bugs fixed elsewhere\r\n  // purposes : be just good enough and as small as possible\r\n\r\n  // from https://plainjs.com/javascript/events/live-binding-event-handlers-14/\r\n  if (w.Element) {\r\n    (function (ElementPrototype) {\r\n      ElementPrototype.matches = ElementPrototype.matches ||\r\n      ElementPrototype.matchesSelector ||\r\n      ElementPrototype.webkitMatchesSelector ||\r\n      ElementPrototype.msMatchesSelector ||\r\n      function (selector) {\r\n        var node = this, nodes = (node.parentNode || node.document).querySelectorAll(selector), i = -1;\r\n        while (nodes[++i] && nodes[i] != node);\r\n        return !!nodes[i];\r\n      };\r\n    })(Element.prototype);\r\n  }\r\n\r\n  function callbackSafe (callback, el, e) {\r\n    try {\r\n      callback.call(el, e);\r\n    } catch (exception) {\r\n      console.log(exception);\r\n    }\r\n  }\r\n\r\n  var searxng = window.searxng || {};\r\n\r\n  searxng.on = function (obj, eventType, callback, useCapture) {\r\n    useCapture = useCapture || false;\r\n    if (typeof obj !== 'string') {\r\n      // obj HTMLElement, HTMLDocument\r\n      obj.addEventListener(eventType, callback, useCapture);\r\n    } else {\r\n      // obj is a selector\r\n      d.addEventListener(eventType, function (e) {\r\n        var el = e.target || e.srcElement, found = false;\r\n        while (el && el.matches && el !== d && !(found = el.matches(obj))) el = el.parentElement;\r\n        if (found) callbackSafe(callback, el, e);\r\n      }, useCapture);\r\n    }\r\n  };\r\n\r\n  searxng.ready = function (callback) {\r\n    if (document.readyState != 'loading') {\r\n      callback.call(w);\r\n    } else {\r\n      w.addEventListener('DOMContentLoaded', callback.bind(w));\r\n    }\r\n  };\r\n\r\n  searxng.http = function (method, url, data = null) {\r\n    return new Promise(function (resolve, reject) {\r\n      try {\r\n        var req = new XMLHttpRequest();\r\n        req.open(method, url, true);\r\n        req.timeout = 20000;\r\n\r\n        // On load\r\n        req.onload = function () {\r\n          if (req.status == 200) {\r\n            resolve(req.response, req.responseType);\r\n          } else {\r\n            reject(Error(req.statusText));\r\n          }\r\n        };\r\n\r\n        // Handle network errors\r\n        req.onerror = function () {\r\n          reject(Error(\"Network Error\"));\r\n        };\r\n\r\n        req.onabort = function () {\r\n          reject(Error(\"Transaction is aborted\"));\r\n        };\r\n\r\n        req.ontimeout = function () {\r\n          reject(Error(\"Timeout\"));\r\n        }\r\n\r\n        // Make the request\r\n        if (data) {\r\n          req.send(data)\r\n        } else {\r\n          req.send();\r\n        }\r\n      } catch (ex) {\r\n        reject(ex);\r\n      }\r\n    });\r\n  };\r\n\r\n  searxng.loadStyle = function (src) {\r\n    var path = searxng.settings.theme_static_path + \"/\" + src,\r\n      id = \"style_\" + src.replace('.', '_'),\r\n      s = d.getElementById(id);\r\n    if (s === null) {\r\n      s = d.createElement('link');\r\n      s.setAttribute('id', id);\r\n      s.setAttribute('rel', 'stylesheet');\r\n      s.setAttribute('type', 'text/css');\r\n      s.setAttribute('href', path);\r\n      d.body.appendChild(s);\r\n    }\r\n  };\r\n\r\n  searxng.loadScript = function (src, callback) {\r\n    var path = searxng.settings.theme_static_path + \"/\" + src,\r\n      id = \"script_\" + src.replace('.', '_'),\r\n      s = d.getElementById(id);\r\n    if (s === null) {\r\n      s = d.createElement('script');\r\n      s.setAttribute('id', id);\r\n      s.setAttribute('src', path);\r\n      s.onload = callback;\r\n      s.onerror = function () {\r\n        s.setAttribute('error', '1');\r\n      };\r\n      d.body.appendChild(s);\r\n    } else if (!s.hasAttribute('error')) {\r\n      try {\r\n        callback.apply(s, []);\r\n      } catch (exception) {\r\n        console.log(exception);\r\n      }\r\n    } else {\r\n      console.log(\"callback not executed : script '\" + path + \"' not loaded.\");\r\n    }\r\n  };\r\n\r\n  searxng.insertBefore = function (newNode, referenceNode) {\r\n    referenceNode.parentNode.insertBefore(newNode, referenceNode);\r\n  };\r\n\r\n  searxng.insertAfter = function (newNode, referenceNode) {\r\n    referenceNode.parentNode.insertAfter(newNode, referenceNode.nextSibling);\r\n  };\r\n\r\n  searxng.on('.close', 'click', function () {\r\n    this.parentNode.classList.add('invisible');\r\n  });\r\n\r\n  function getEndpoint () {\r\n    for (var className of d.getElementsByTagName('body')[0].classList.values()) {\r\n      if (className.endsWith('_endpoint')) {\r\n        return className.split('_')[0];\r\n      }\r\n    }\r\n    return '';\r\n  }\r\n\r\n  searxng.endpoint = getEndpoint();\r\n\r\n  return searxng;\r\n})(window, document);\r\n","// SPDX-License-Identifier: AGPL-3.0-or-later\r\n\r\n/* global searxng */\r\n\r\nsearxng.ready(function () {\r\n  'use strict';\r\n\r\n  searxng.infinite_scroll_supported = (\r\n    'IntersectionObserver' in window &&\r\n    'IntersectionObserverEntry' in window &&\r\n    'intersectionRatio' in window.IntersectionObserverEntry.prototype);\r\n\r\n  if (searxng.endpoint !== 'results') {\r\n    return;\r\n  }\r\n\r\n  if (!searxng.infinite_scroll_supported) {\r\n    console.log('IntersectionObserver not supported');\r\n    return;\r\n  }\r\n\r\n  let d = document;\r\n  var onlyImages = d.getElementById('results').classList.contains('only_template_images');\r\n\r\n  function newLoadSpinner () {\r\n    var loader = d.createElement('div');\r\n    loader.classList.add('loader');\r\n    return loader;\r\n  }\r\n\r\n  function replaceChildrenWith (element, children) {\r\n    element.textContent = '';\r\n    children.forEach(child => element.appendChild(child));\r\n  }\r\n\r\n  function loadNextPage (callback) {\r\n    var form = d.querySelector('#pagination form.next_page');\r\n    if (!form) {\r\n      return\r\n    }\r\n    replaceChildrenWith(d.querySelector('#pagination'), [ newLoadSpinner() ]);\r\n    var formData = new FormData(form);\r\n    searxng.http('POST', d.querySelector('#search').getAttribute('action'), formData).then(\r\n      function (response) {\r\n        var nextPageDoc = new DOMParser().parseFromString(response, 'text/html');\r\n        var articleList = nextPageDoc.querySelectorAll('#urls article');\r\n        var paginationElement = nextPageDoc.querySelector('#pagination');\r\n        d.querySelector('#pagination').remove();\r\n        if (articleList.length > 0 && !onlyImages) {\r\n          // do not add <hr> element when there are only images\r\n          d.querySelector('#urls').appendChild(d.createElement('hr'));\r\n        }\r\n        articleList.forEach(articleElement => {\r\n          d.querySelector('#urls').appendChild(articleElement);\r\n        });\r\n        if (paginationElement) {\r\n          d.querySelector('#results').appendChild(paginationElement);\r\n          callback();\r\n        }\r\n      }\r\n    ).catch(\r\n      function (err) {\r\n        console.log(err);\r\n        var e = d.createElement('div');\r\n        e.textContent = searxng.settings.translations.error_loading_next_page;\r\n        e.classList.add('dialog-error');\r\n        e.setAttribute('role', 'alert');\r\n        replaceChildrenWith(d.querySelector('#pagination'), [ e ]);\r\n      }\r\n    )\r\n  }\r\n\r\n  if (searxng.settings.infinite_scroll && searxng.infinite_scroll_supported) {\r\n    const intersectionObserveOptions = {\r\n      rootMargin: \"20rem\",\r\n    };\r\n    const observedSelector = 'article.result:last-child';\r\n    const observer = new IntersectionObserver(entries => {\r\n      const paginationEntry = entries[0];\r\n      if (paginationEntry.isIntersecting) {\r\n        observer.unobserve(paginationEntry.target);\r\n        loadNextPage(() => observer.observe(d.querySelector(observedSelector), intersectionObserveOptions));\r\n      }\r\n    });\r\n    observer.observe(d.querySelector(observedSelector), intersectionObserveOptions);\r\n  }\r\n\r\n});\r\n","/* SPDX-License-Identifier: AGPL-3.0-or-later */\r\n/* global searxng */\r\n\r\nsearxng.ready(function () {\r\n\r\n  function isElementInDetail (el) {\r\n    while (el !== undefined) {\r\n      if (el.classList.contains('detail')) {\r\n        return true;\r\n      }\r\n      if (el.classList.contains('result')) {\r\n        // we found a result, no need to go to the root of the document:\r\n        // el is not inside a <div class=\"detail\"> element\r\n        return false;\r\n      }\r\n      el = el.parentNode;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function getResultElement (el) {\r\n    while (el !== undefined) {\r\n      if (el.classList.contains('result')) {\r\n        return el;\r\n      }\r\n      el = el.parentNode;\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  function isImageResult (resultElement) {\r\n    return resultElement && resultElement.classList.contains('result-images');\r\n  }\r\n\r\n  searxng.on('.result', 'click', function (e) {\r\n    if (!isElementInDetail(e.target)) {\r\n      highlightResult(this)(true, true);\r\n      let resultElement = getResultElement(e.target);\r\n      if (isImageResult(resultElement)) {\r\n        e.preventDefault();\r\n        searxng.selectImage(resultElement);\r\n      }\r\n    }\r\n  });\r\n\r\n  searxng.on('.result a', 'focus', function (e) {\r\n    if (!isElementInDetail(e.target)) {\r\n      let resultElement = getResultElement(e.target);\r\n      if (resultElement && resultElement.getAttribute(\"data-vim-selected\") === null) {\r\n        highlightResult(resultElement)(true);\r\n      }\r\n      if (isImageResult(resultElement)) {\r\n        searxng.selectImage(resultElement);\r\n      }\r\n    }\r\n  }, true);\r\n\r\n  /* common base for layouts */\r\n  var baseKeyBinding = {\r\n    'Escape': {\r\n      key: 'ESC',\r\n      fun: removeFocus,\r\n      des: 'remove focus from the focused input',\r\n      cat: 'Control'\r\n    },\r\n    'c': {\r\n      key: 'c',\r\n      fun: copyURLToClipboard,\r\n      des: 'copy url of the selected result to the clipboard',\r\n      cat: 'Results'\r\n    },\r\n    'h': {\r\n      key: 'h',\r\n      fun: toggleHelp,\r\n      des: 'toggle help window',\r\n      cat: 'Other'\r\n    },\r\n    'i': {\r\n      key: 'i',\r\n      fun: searchInputFocus,\r\n      des: 'focus on the search input',\r\n      cat: 'Control'\r\n    },\r\n    'n': {\r\n      key: 'n',\r\n      fun: GoToNextPage(),\r\n      des: 'go to next page',\r\n      cat: 'Results'\r\n    },\r\n    'o': {\r\n      key: 'o',\r\n      fun: openResult(false),\r\n      des: 'open search result',\r\n      cat: 'Results'\r\n    },\r\n    'p': {\r\n      key: 'p',\r\n      fun: GoToPreviousPage(),\r\n      des: 'go to previous page',\r\n      cat: 'Results'\r\n    },\r\n    'r': {\r\n      key: 'r',\r\n      fun: reloadPage,\r\n      des: 'reload page from the server',\r\n      cat: 'Control'\r\n    },\r\n    't': {\r\n      key: 't',\r\n      fun: openResult(true),\r\n      des: 'open the result in a new tab',\r\n      cat: 'Results'\r\n    },\r\n  };\r\n  var keyBindingLayouts = {\r\n\r\n    \"default\": Object.assign(\r\n      { /* SearXNG layout */\r\n        'ArrowLeft': {\r\n          key: '←',\r\n          fun: highlightResult('up'),\r\n          des: 'select previous search result',\r\n          cat: 'Results'\r\n        },\r\n        'ArrowRight': {\r\n          key: '→',\r\n          fun: highlightResult('down'),\r\n          des: 'select next search result',\r\n          cat: 'Results'\r\n        },\r\n      }, baseKeyBinding),\r\n\r\n    'vim': Object.assign(\r\n      { /* Vim-like Key Layout. */\r\n        'b': {\r\n          key: 'b',\r\n          fun: scrollPage(-window.innerHeight),\r\n          des: 'scroll one page up',\r\n          cat: 'Navigation'\r\n        },\r\n        'f': {\r\n          key: 'f',\r\n          fun: scrollPage(window.innerHeight),\r\n          des: 'scroll one page down',\r\n          cat: 'Navigation'\r\n        },\r\n        'u': {\r\n          key: 'u',\r\n          fun: scrollPage(-window.innerHeight / 2),\r\n          des: 'scroll half a page up',\r\n          cat: 'Navigation'\r\n        },\r\n        'd': {\r\n          key: 'd',\r\n          fun: scrollPage(window.innerHeight / 2),\r\n          des: 'scroll half a page down',\r\n          cat: 'Navigation'\r\n        },\r\n        'g': {\r\n          key: 'g',\r\n          fun: scrollPageTo(-document.body.scrollHeight, 'top'),\r\n          des: 'scroll to the top of the page',\r\n          cat: 'Navigation'\r\n        },\r\n        'v': {\r\n          key: 'v',\r\n          fun: scrollPageTo(document.body.scrollHeight, 'bottom'),\r\n          des: 'scroll to the bottom of the page',\r\n          cat: 'Navigation'\r\n        },\r\n        'k': {\r\n          key: 'k',\r\n          fun: highlightResult('up'),\r\n          des: 'select previous search result',\r\n          cat: 'Results'\r\n        },\r\n        'j': {\r\n          key: 'j',\r\n          fun: highlightResult('down'),\r\n          des: 'select next search result',\r\n          cat: 'Results'\r\n        },\r\n        'y': {\r\n          key: 'y',\r\n          fun: copyURLToClipboard,\r\n          des: 'copy url of the selected result to the clipboard',\r\n          cat: 'Results'\r\n        },\r\n      }, baseKeyBinding)\r\n  }\r\n\r\n  var keyBindings = keyBindingLayouts[searxng.settings.hotkeys] || keyBindingLayouts.default;\r\n\r\n  searxng.on(document, \"keydown\", function (e) {\r\n    // check for modifiers so we don't break browser's hotkeys\r\n    if (\r\n      Object.prototype.hasOwnProperty.call(keyBindings, e.key)\r\n        && !e.ctrlKey && !e.altKey\r\n        && !e.shiftKey && !e.metaKey\r\n    ) {\r\n      var tagName = e.target.tagName.toLowerCase();\r\n      if (e.key === 'Escape') {\r\n        keyBindings[e.key].fun(e);\r\n      } else {\r\n        if (e.target === document.body || tagName === 'a' || tagName === 'button') {\r\n          e.preventDefault();\r\n          keyBindings[e.key].fun();\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  function highlightResult (which) {\r\n    return function (noScroll, keepFocus) {\r\n      var current = document.querySelector('.result[data-vim-selected]'),\r\n        effectiveWhich = which;\r\n      if (current === null) {\r\n        // no selection : choose the first one\r\n        current = document.querySelector('.result');\r\n        if (current === null) {\r\n          // no first one : there are no results\r\n          return;\r\n        }\r\n        // replace up/down actions by selecting first one\r\n        if (which === \"down\" || which === \"up\") {\r\n          effectiveWhich = current;\r\n        }\r\n      }\r\n\r\n      var next, results = document.querySelectorAll('.result');\r\n      results = Array.from(results);  // convert NodeList to Array for further use\r\n\r\n      if (typeof effectiveWhich !== 'string') {\r\n        next = effectiveWhich;\r\n      } else {\r\n        switch (effectiveWhich) {\r\n        case 'visible':\r\n          var top = document.documentElement.scrollTop || document.body.scrollTop;\r\n          var bot = top + document.documentElement.clientHeight;\r\n\r\n          for (var i = 0; i < results.length; i++) {\r\n            next = results[i];\r\n            var etop = next.offsetTop;\r\n            var ebot = etop + next.clientHeight;\r\n\r\n            if ((ebot <= bot) && (etop > top)) {\r\n              break;\r\n            }\r\n          }\r\n          break;\r\n        case 'down':\r\n          next = results[results.indexOf(current) + 1] || current;\r\n          break;\r\n        case 'up':\r\n          next = results[results.indexOf(current) - 1] || current;\r\n          break;\r\n        case 'bottom':\r\n          next = results[results.length - 1];\r\n          break;\r\n        case 'top':\r\n          /* falls through */\r\n        default:\r\n          next = results[0];\r\n        }\r\n      }\r\n\r\n      if (next) {\r\n        current.removeAttribute('data-vim-selected');\r\n        next.setAttribute('data-vim-selected', 'true');\r\n        if (!keepFocus) {\r\n          var link = next.querySelector('h3 a') || next.querySelector('a');\r\n          if (link !== null) {\r\n            link.focus();\r\n          }\r\n        }\r\n        if (!noScroll) {\r\n          scrollPageToSelected();\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  function reloadPage () {\r\n    document.location.reload(true);\r\n  }\r\n\r\n  function removeFocus (e) {\r\n    const tagName = e.target.tagName.toLowerCase();\r\n    if (document.activeElement && (tagName === 'input' || tagName === 'select' || tagName === 'textarea')) {\r\n      document.activeElement.blur();\r\n    } else {\r\n      searxng.closeDetail();\r\n    }\r\n  }\r\n\r\n  function pageButtonClick (css_selector) {\r\n    return function () {\r\n      var button = document.querySelector(css_selector);\r\n      if (button) {\r\n        button.click();\r\n      }\r\n    };\r\n  }\r\n\r\n  function GoToNextPage () {\r\n    return pageButtonClick('nav#pagination .next_page button[type=\"submit\"]');\r\n  }\r\n\r\n  function GoToPreviousPage () {\r\n    return pageButtonClick('nav#pagination .previous_page button[type=\"submit\"]');\r\n  }\r\n\r\n  function scrollPageToSelected () {\r\n    var sel = document.querySelector('.result[data-vim-selected]');\r\n    if (sel === null) {\r\n      return;\r\n    }\r\n    var wtop = document.documentElement.scrollTop || document.body.scrollTop,\r\n      wheight = document.documentElement.clientHeight,\r\n      etop = sel.offsetTop,\r\n      ebot = etop + sel.clientHeight,\r\n      offset = 120;\r\n    // first element ?\r\n    if ((sel.previousElementSibling === null) && (ebot < wheight)) {\r\n      // set to the top of page if the first element\r\n      // is fully included in the viewport\r\n      window.scroll(window.scrollX, 0);\r\n      return;\r\n    }\r\n    if (wtop > (etop - offset)) {\r\n      window.scroll(window.scrollX, etop - offset);\r\n    } else {\r\n      var wbot = wtop + wheight;\r\n      if (wbot < (ebot + offset)) {\r\n        window.scroll(window.scrollX, ebot - wheight + offset);\r\n      }\r\n    }\r\n  }\r\n\r\n  function scrollPage (amount) {\r\n    return function () {\r\n      window.scrollBy(0, amount);\r\n      highlightResult('visible')();\r\n    };\r\n  }\r\n\r\n  function scrollPageTo (position, nav) {\r\n    return function () {\r\n      window.scrollTo(0, position);\r\n      highlightResult(nav)();\r\n    };\r\n  }\r\n\r\n  function searchInputFocus () {\r\n    window.scrollTo(0, 0);\r\n    var q = document.querySelector('#q');\r\n    q.focus();\r\n    if (q.setSelectionRange) {\r\n      var len = q.value.length;\r\n      q.setSelectionRange(len, len);\r\n    }\r\n  }\r\n\r\n  function openResult (newTab) {\r\n    return function () {\r\n      var link = document.querySelector('.result[data-vim-selected] h3 a');\r\n      if (link === null) {\r\n        link = document.querySelector('.result[data-vim-selected] > a');\r\n      }\r\n      if (link !== null) {\r\n        var url = link.getAttribute('href');\r\n        if (newTab) {\r\n          window.open(url);\r\n        } else {\r\n          window.location.href = url;\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  function initHelpContent (divElement) {\r\n    var categories = {};\r\n\r\n    for (var k in keyBindings) {\r\n      var key = keyBindings[k];\r\n      categories[key.cat] = categories[key.cat] || [];\r\n      categories[key.cat].push(key);\r\n    }\r\n\r\n    var sorted = Object.keys(categories).sort(function (a, b) {\r\n      return categories[b].length - categories[a].length;\r\n    });\r\n\r\n    if (sorted.length === 0) {\r\n      return;\r\n    }\r\n\r\n    var html = '<a href=\"#\" class=\"close\" aria-label=\"close\" title=\"close\">×</a>';\r\n    html += '<h3>How to navigate SearXNG with hotkeys</h3>';\r\n    html += '<table>';\r\n\r\n    for (var i = 0; i < sorted.length; i++) {\r\n      var cat = categories[sorted[i]];\r\n\r\n      var lastCategory = i === (sorted.length - 1);\r\n      var first = i % 2 === 0;\r\n\r\n      if (first) {\r\n        html += '<tr>';\r\n      }\r\n      html += '<td>';\r\n\r\n      html += '<h4>' + cat[0].cat + '</h4>';\r\n      html += '<ul class=\"list-unstyled\">';\r\n\r\n      for (var cj in cat) {\r\n        html += '<li><kbd>' + cat[cj].key + '</kbd> ' + cat[cj].des + '</li>';\r\n      }\r\n\r\n      html += '</ul>';\r\n      html += '</td>'; // col-sm-*\r\n\r\n      if (!first || lastCategory) {\r\n        html += '</tr>'; // row\r\n      }\r\n    }\r\n\r\n    html += '</table>';\r\n\r\n    divElement.innerHTML = html;\r\n  }\r\n\r\n  function toggleHelp () {\r\n    var helpPanel = document.querySelector('#vim-hotkeys-help');\r\n    if (helpPanel === undefined || helpPanel === null) {\r\n      // first call\r\n      helpPanel = document.createElement('div');\r\n      helpPanel.id = 'vim-hotkeys-help';\r\n      helpPanel.className = 'dialog-modal';\r\n      initHelpContent(helpPanel);\r\n      var body = document.getElementsByTagName('body')[0];\r\n      body.appendChild(helpPanel);\r\n    } else {\r\n      // toggle hidden\r\n      helpPanel.classList.toggle('invisible');\r\n      return;\r\n    }\r\n  }\r\n\r\n  function copyURLToClipboard () {\r\n    var currentUrlElement = document.querySelector('.result[data-vim-selected] h3 a');\r\n    if (currentUrlElement === null) return;\r\n\r\n    const url = currentUrlElement.getAttribute('href');\r\n    navigator.clipboard.writeText(url);\r\n  }\r\n\r\n  searxng.scrollPageToSelected = scrollPageToSelected;\r\n  searxng.selectNext = highlightResult('down');\r\n  searxng.selectPrevious = highlightResult('up');\r\n});\r\n","/* SPDX-License-Identifier: AGPL-3.0-or-later */\r\n/* global L */\r\n(function (w, d, searxng) {\r\n  'use strict';\r\n\r\n  searxng.ready(function () {\r\n    searxng.on('.searxng_init_map', 'click', function (event) {\r\n      // no more request\r\n      this.classList.remove(\"searxng_init_map\");\r\n\r\n      //\r\n      var leaflet_target = this.dataset.leafletTarget;\r\n      var map_lon = parseFloat(this.dataset.mapLon);\r\n      var map_lat = parseFloat(this.dataset.mapLat);\r\n      var map_zoom = parseFloat(this.dataset.mapZoom);\r\n      var map_boundingbox = JSON.parse(this.dataset.mapBoundingbox);\r\n      var map_geojson = JSON.parse(this.dataset.mapGeojson);\r\n\r\n      searxng.loadStyle('css/leaflet.css');\r\n      searxng.loadScript('js/leaflet.js', function () {\r\n        var map_bounds = null;\r\n        if (map_boundingbox) {\r\n          var southWest = L.latLng(map_boundingbox[0], map_boundingbox[2]);\r\n          var northEast = L.latLng(map_boundingbox[1], map_boundingbox[3]);\r\n          map_bounds = L.latLngBounds(southWest, northEast);\r\n        }\r\n\r\n        // init map\r\n        var map = L.map(leaflet_target);\r\n        // create the tile layer with correct attribution\r\n        var osmMapnikUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\r\n        var osmMapnikAttrib = 'Map data © <a href=\"https://openstreetmap.org\">OpenStreetMap</a> contributors';\r\n        var osmMapnik = new L.TileLayer(osmMapnikUrl, {minZoom: 1, maxZoom: 19, attribution: osmMapnikAttrib});\r\n        var osmWikimediaUrl = 'https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png';\r\n        var osmWikimediaAttrib = 'Wikimedia maps | Maps data © <a href=\"https://openstreetmap.org\">OpenStreetMap contributors</a>';\r\n        var osmWikimedia = new L.TileLayer(osmWikimediaUrl, {minZoom: 1, maxZoom: 19, attribution: osmWikimediaAttrib});\r\n        // init map view\r\n        if (map_bounds) {\r\n          // TODO hack: https://github.com/Leaflet/Leaflet/issues/2021\r\n          // Still useful ?\r\n          setTimeout(function () {\r\n            map.fitBounds(map_bounds, {\r\n              maxZoom: 17\r\n            });\r\n          }, 0);\r\n        } else if (map_lon && map_lat) {\r\n          if (map_zoom) {\r\n            map.setView(new L.latLng(map_lat, map_lon), map_zoom);\r\n          } else {\r\n            map.setView(new L.latLng(map_lat, map_lon), 8);\r\n          }\r\n        }\r\n\r\n        map.addLayer(osmMapnik);\r\n\r\n        var baseLayers = {\r\n          \"OSM Mapnik\": osmMapnik,\r\n          \"OSM Wikimedia\": osmWikimedia,\r\n        };\r\n\r\n        L.control.layers(baseLayers).addTo(map);\r\n\r\n        if (map_geojson) {\r\n          L.geoJson(map_geojson).addTo(map);\r\n        } /* else if(map_bounds) {\r\n          L.rectangle(map_bounds, {color: \"#ff7800\", weight: 3, fill:false}).addTo(map);\r\n        } */\r\n      });\r\n\r\n      // this event occur only once per element\r\n      event.preventDefault();\r\n    });\r\n  });\r\n})(window, document, window.searxng);\r\n","/* SPDX-License-Identifier: AGPL-3.0-or-later */\r\n(function (w, d, searxng) {\r\n  'use strict';\r\n\r\n  if (searxng.endpoint !== 'preferences') {\r\n    return;\r\n  }\r\n\r\n  searxng.ready(function () {\r\n    let engine_descriptions = null;\r\n    function load_engine_descriptions () {\r\n      if (engine_descriptions == null) {\r\n        searxng.http(\"GET\", \"engine_descriptions.json\").then(function (content) {\r\n          engine_descriptions = JSON.parse(content);\r\n          for (const [engine_name, description] of Object.entries(engine_descriptions)) {\r\n            let elements = d.querySelectorAll('[data-engine-name=\"' + engine_name + '\"] .engine-description');\r\n            for (const element of elements) {\r\n              let source = ' (<i>' + searxng.settings.translations.Source + ':&nbsp;' + description[1] + '</i>)';\r\n              element.innerHTML = description[0] + source;\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    for (const el of d.querySelectorAll('[data-engine-name]')) {\r\n      searxng.on(el, 'mouseenter', load_engine_descriptions);\r\n    }\r\n\r\n    const enableAllEngines = d.querySelectorAll(\".enable-all-engines\");\r\n    const disableAllEngines = d.querySelectorAll(\".disable-all-engines\");\r\n    const engineToggles = d.querySelectorAll('tbody input[type=checkbox][class~=checkbox-onoff]');\r\n    const toggleEngines = (enable) => {\r\n      for (const el of engineToggles) {\r\n        // check if element visible, so that only engines of the current category are modified\r\n        if (el.offsetParent !== null) el.checked = !enable;\r\n      }\r\n    };\r\n    for (const el of enableAllEngines) {\r\n      searxng.on(el, 'click', () => toggleEngines(true));\r\n    }\r\n    for (const el of disableAllEngines) {\r\n      searxng.on(el, 'click', () => toggleEngines(false));\r\n    }\r\n\r\n    const copyHashButton = d.querySelector(\"#copy-hash\");\r\n    searxng.on(copyHashButton, 'click', (e) => {\r\n      e.preventDefault();\r\n      navigator.clipboard.writeText(copyHashButton.dataset.hash);\r\n      copyHashButton.innerText = copyHashButton.dataset.copiedText;\r\n    });\r\n  });\r\n})(window, document, window.searxng);\r\n","/* SPDX-License-Identifier: AGPL-3.0-or-later */\r\n(function (w, d, searxng) {\r\n  'use strict';\r\n\r\n  if (searxng.endpoint !== 'results') {\r\n    return;\r\n  }\r\n\r\n  searxng.ready(function () {\r\n    d.querySelectorAll('#urls img').forEach(\r\n      img =>\r\n        img.addEventListener(\r\n          'error', () => {\r\n            // console.log(\"ERROR can't load: \" + img.src);\r\n            img.src = window.searxng.settings.theme_static_path + \"/img/img_load_error.svg\";\r\n          },\r\n          {once: true}\r\n        ));\r\n\r\n    if (d.querySelector('#search_url button#copy_url')) {\r\n      d.querySelector('#search_url button#copy_url').style.display = \"block\";\r\n    }\r\n\r\n    searxng.on('.btn-collapse', 'click', function () {\r\n      var btnLabelCollapsed = this.getAttribute('data-btn-text-collapsed');\r\n      var btnLabelNotCollapsed = this.getAttribute('data-btn-text-not-collapsed');\r\n      var target = this.getAttribute('data-target');\r\n      var targetElement = d.querySelector(target);\r\n      var html = this.innerHTML;\r\n      if (this.classList.contains('collapsed')) {\r\n        html = html.replace(btnLabelCollapsed, btnLabelNotCollapsed);\r\n      } else {\r\n        html = html.replace(btnLabelNotCollapsed, btnLabelCollapsed);\r\n      }\r\n      this.innerHTML = html;\r\n      this.classList.toggle('collapsed');\r\n      targetElement.classList.toggle('invisible');\r\n    });\r\n\r\n    searxng.on('.media-loader', 'click', function () {\r\n      var target = this.getAttribute('data-target');\r\n      var iframe_load = d.querySelector(target + ' > iframe');\r\n      var srctest = iframe_load.getAttribute('src');\r\n      if (srctest === null || srctest === undefined || srctest === false) {\r\n        iframe_load.setAttribute('src', iframe_load.getAttribute('data-src'));\r\n      }\r\n    });\r\n\r\n    searxng.on('#copy_url', 'click', function () {\r\n      var target = this.parentElement.querySelector('pre');\r\n      navigator.clipboard.writeText(target.innerText);\r\n      this.innerText = this.dataset.copiedText;\r\n    });\r\n\r\n    // searxng.selectImage (gallery)\r\n    // -----------------------------\r\n\r\n    // setTimeout() ID, needed to cancel *last* loadImage\r\n    let imgTimeoutID;\r\n\r\n    // progress spinner, while an image is loading\r\n    const imgLoaderSpinner = d.createElement('div');\r\n    imgLoaderSpinner.classList.add('loader');\r\n\r\n    // singleton image object, which is used for all loading processes of a\r\n    // detailed image\r\n    const imgLoader = new Image();\r\n\r\n    const loadImage = (imgSrc, onSuccess) => {\r\n      // if defered image load exists, stop defered task.\r\n      if (imgTimeoutID) clearTimeout(imgTimeoutID);\r\n\r\n      // defer load of the detail image for 1 sec\r\n      imgTimeoutID = setTimeout(() => {\r\n        imgLoader.src = imgSrc;\r\n      }, 1000);\r\n\r\n      // set handlers in the on-properties\r\n      imgLoader.onload = () => {\r\n        onSuccess();\r\n        imgLoaderSpinner.remove();\r\n      };\r\n      imgLoader.onerror = () => {\r\n        imgLoaderSpinner.remove();\r\n      };\r\n    };\r\n\r\n    searxng.selectImage = (resultElement) => {\r\n\r\n      // add a class that can be evaluated in the CSS and indicates that the\r\n      // detail view is open\r\n      d.getElementById('results').classList.add('image-detail-open');\r\n\r\n      // add a hash to the browser history so that pressing back doesn't return\r\n      // to the previous page this allows us to dismiss the image details on\r\n      // pressing the back button on mobile devices\r\n      window.location.hash = '#image-viewer';\r\n\r\n      searxng.scrollPageToSelected();\r\n\r\n      // if there is none element given by the caller, stop here\r\n      if (!resultElement) return;\r\n\r\n      // find <img> object in the element, if there is none, stop here.\r\n      const img = resultElement.querySelector('.result-images-source img');\r\n      if (!img) return;\r\n\r\n      // <img src=\"\" data-src=\"http://example.org/image.jpg\">\r\n      const src = img.getAttribute('data-src');\r\n\r\n      // already loaded high-res image or no high-res image available\r\n      if (!src) return;\r\n\r\n      // use the image thumbnail until the image is fully loaded\r\n      const thumbnail = resultElement.querySelector('.image_thumbnail');\r\n      img.src = thumbnail.src;\r\n\r\n      // show a progress spinner\r\n      const detailElement = resultElement.querySelector('.detail');\r\n      detailElement.appendChild(imgLoaderSpinner);\r\n\r\n      // load full size image in background\r\n      loadImage(src, () => {\r\n        // after the singelton loadImage has loaded the detail image into the\r\n        // cache, it can be used in the origin <img> as src property.\r\n        img.src = src;\r\n        img.removeAttribute('data-src');\r\n      });\r\n    };\r\n\r\n    searxng.closeDetail = function () {\r\n      d.getElementById('results').classList.remove('image-detail-open');\r\n      // remove #image-viewer hash from url by navigating back\r\n      if (window.location.hash == '#image-viewer') window.history.back();\r\n      searxng.scrollPageToSelected();\r\n    };\r\n    searxng.on('.result-detail-close', 'click', e => {\r\n      e.preventDefault();\r\n      searxng.closeDetail();\r\n    });\r\n    searxng.on('.result-detail-previous', 'click', e => {\r\n      e.preventDefault();\r\n      searxng.selectPrevious(false);\r\n    });\r\n    searxng.on('.result-detail-next', 'click', e => {\r\n      e.preventDefault();\r\n      searxng.selectNext(false);\r\n    });\r\n\r\n    // listen for the back button to be pressed and dismiss the image details when called\r\n    window.addEventListener('hashchange', () => {\r\n      if (window.location.hash != '#image-viewer') searxng.closeDetail();\r\n    });\r\n\r\n    d.querySelectorAll('.swipe-horizontal').forEach(\r\n      obj => {\r\n        obj.addEventListener('swiped-left', function () {\r\n          searxng.selectNext(false);\r\n        });\r\n        obj.addEventListener('swiped-right', function () {\r\n          searxng.selectPrevious(false);\r\n        });\r\n      }\r\n    );\r\n\r\n    w.addEventListener('scroll', function () {\r\n      var e = d.getElementById('backToTop'),\r\n        scrollTop = document.documentElement.scrollTop || document.body.scrollTop,\r\n        results = d.getElementById('results');\r\n      if (e !== null) {\r\n        if (scrollTop >= 100) {\r\n          results.classList.add('scrolling');\r\n        } else {\r\n          results.classList.remove('scrolling');\r\n        }\r\n      }\r\n    }, true);\r\n\r\n  });\r\n\r\n})(window, document, window.searxng);\r\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.AutoComplete = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n/*\n * @license MIT\n *\n * Autocomplete.js v2.7.1\n * Developed by Baptiste Donaux\n * http://autocomplete-js.com\n *\n * (c) 2017, Baptiste Donaux\n */\n\"use strict\";\nvar ConditionOperator;\n(function (ConditionOperator) {\n    ConditionOperator[ConditionOperator[\"AND\"] = 0] = \"AND\";\n    ConditionOperator[ConditionOperator[\"OR\"] = 1] = \"OR\";\n})(ConditionOperator || (ConditionOperator = {}));\nvar EventType;\n(function (EventType) {\n    EventType[EventType[\"KEYDOWN\"] = 0] = \"KEYDOWN\";\n    EventType[EventType[\"KEYUP\"] = 1] = \"KEYUP\";\n})(EventType || (EventType = {}));\n/**\n * Core\n *\n * @class\n * @author Baptiste Donaux <baptiste.donaux@gmail.com> @baptistedonaux\n */\nvar AutoComplete = /** @class */ (function () {\n    // Constructor\n    function AutoComplete(params, selector) {\n        if (params === void 0) { params = {}; }\n        if (selector === void 0) { selector = \"[data-autocomplete]\"; }\n        if (Array.isArray(selector)) {\n            selector.forEach(function (s) {\n                new AutoComplete(params, s);\n            });\n        }\n        else if (typeof selector == \"string\") {\n            var elements = document.querySelectorAll(selector);\n            Array.prototype.forEach.call(elements, function (input) {\n                new AutoComplete(params, input);\n            });\n        }\n        else {\n            var specificParams = AutoComplete.merge(AutoComplete.defaults, params, {\n                DOMResults: document.createElement(\"div\")\n            });\n            AutoComplete.prototype.create(specificParams, selector);\n            return specificParams;\n        }\n    }\n    AutoComplete.prototype.create = function (params, element) {\n        params.Input = element;\n        if (params.Input.nodeName.match(/^INPUT$/i) && (params.Input.hasAttribute(\"type\") === false || params.Input.getAttribute(\"type\").match(/^TEXT|SEARCH$/i))) {\n            params.Input.setAttribute(\"autocomplete\", \"off\");\n            params._Position(params);\n            params.Input.parentNode.appendChild(params.DOMResults);\n            params.$Listeners = {\n                blur: params._Blur.bind(params),\n                destroy: AutoComplete.prototype.destroy.bind(null, params),\n                focus: params._Focus.bind(params),\n                keyup: AutoComplete.prototype.event.bind(null, params, EventType.KEYUP),\n                keydown: AutoComplete.prototype.event.bind(null, params, EventType.KEYDOWN),\n                position: params._Position.bind(params)\n            };\n            for (var event in params.$Listeners) {\n                params.Input.addEventListener(event, params.$Listeners[event]);\n            }\n        }\n    };\n    AutoComplete.prototype.getEventsByType = function (params, type) {\n        var mappings = {};\n        for (var key in params.KeyboardMappings) {\n            var event = EventType.KEYUP;\n            if (params.KeyboardMappings[key].Event !== undefined) {\n                event = params.KeyboardMappings[key].Event;\n            }\n            if (event == type) {\n                mappings[key] = params.KeyboardMappings[key];\n            }\n        }\n        return mappings;\n    };\n    AutoComplete.prototype.event = function (params, type, event) {\n        var eventIdentifier = function (condition) {\n            if ((match === true && mapping.Operator == ConditionOperator.AND) || (match === false && mapping.Operator == ConditionOperator.OR)) {\n                condition = AutoComplete.merge({\n                    Not: false\n                }, condition);\n                if (condition.hasOwnProperty(\"Is\")) {\n                    if (condition.Is == event.keyCode) {\n                        match = !condition.Not;\n                    }\n                    else {\n                        match = condition.Not;\n                    }\n                }\n                else if (condition.hasOwnProperty(\"From\") && condition.hasOwnProperty(\"To\")) {\n                    if (event.keyCode >= condition.From && event.keyCode <= condition.To) {\n                        match = !condition.Not;\n                    }\n                    else {\n                        match = condition.Not;\n                    }\n                }\n            }\n        };\n        for (var name in AutoComplete.prototype.getEventsByType(params, type)) {\n            var mapping = AutoComplete.merge({\n                Operator: ConditionOperator.AND\n            }, params.KeyboardMappings[name]), match = ConditionOperator.AND == mapping.Operator;\n            mapping.Conditions.forEach(eventIdentifier);\n            if (match === true) {\n                mapping.Callback.call(params, event);\n            }\n        }\n    };\n    AutoComplete.prototype.makeRequest = function (params, callback, callbackErr) {\n        var propertyHttpHeaders = Object.getOwnPropertyNames(params.HttpHeaders), request = new XMLHttpRequest(), method = params._HttpMethod(), url = params._Url(), queryParams = params._Pre(), queryParamsStringify = encodeURIComponent(params._QueryArg()) + \"=\" + encodeURIComponent(queryParams);\n        if (method.match(/^GET$/i)) {\n            if (url.indexOf(\"?\") !== -1) {\n                url += \"&\" + queryParamsStringify;\n            }\n            else {\n                url += \"?\" + queryParamsStringify;\n            }\n        }\n        request.open(method, url, true);\n        for (var i = propertyHttpHeaders.length - 1; i >= 0; i--) {\n            request.setRequestHeader(propertyHttpHeaders[i], params.HttpHeaders[propertyHttpHeaders[i]]);\n        }\n        request.onreadystatechange = function () {\n            if (request.readyState == 4 && request.status == 200) {\n                params.$Cache[queryParams] = request.response;\n                callback(request.response);\n            }\n            else if (request.status >= 400) {\n                callbackErr();\n            }\n        };\n        return request;\n    };\n    AutoComplete.prototype.ajax = function (params, request, timeout) {\n        if (timeout === void 0) { timeout = true; }\n        if (params.$AjaxTimer) {\n            window.clearTimeout(params.$AjaxTimer);\n        }\n        if (timeout === true) {\n            params.$AjaxTimer = window.setTimeout(AutoComplete.prototype.ajax.bind(null, params, request, false), params.Delay);\n        }\n        else {\n            if (params.Request) {\n                params.Request.abort();\n            }\n            params.Request = request;\n            params.Request.send(params._QueryArg() + \"=\" + params._Pre());\n        }\n    };\n    AutoComplete.prototype.cache = function (params, callback, callbackErr) {\n        var response = params._Cache(params._Pre());\n        if (response === undefined) {\n            var request = AutoComplete.prototype.makeRequest(params, callback, callbackErr);\n            AutoComplete.prototype.ajax(params, request);\n        }\n        else {\n            callback(response);\n        }\n    };\n    AutoComplete.prototype.destroy = function (params) {\n        for (var event in params.$Listeners) {\n            params.Input.removeEventListener(event, params.$Listeners[event]);\n        }\n        params.DOMResults.parentNode.removeChild(params.DOMResults);\n    };\n    AutoComplete.merge = function () {\n        var merge = {}, tmp;\n        for (var i = 0; i < arguments.length; i++) {\n            for (tmp in arguments[i]) {\n                merge[tmp] = arguments[i][tmp];\n            }\n        }\n        return merge;\n    };\n    AutoComplete.defaults = {\n        Delay: 150,\n        EmptyMessage: \"No result here\",\n        Highlight: {\n            getRegex: function (value) {\n                return new RegExp(value, \"ig\");\n            },\n            transform: function (value) {\n                return \"<strong>\" + value + \"</strong>\";\n            }\n        },\n        HttpHeaders: {\n            \"Content-type\": \"application/x-www-form-urlencoded\"\n        },\n        Limit: 0,\n        MinChars: 0,\n        HttpMethod: \"GET\",\n        QueryArg: \"q\",\n        Url: null,\n        KeyboardMappings: {\n            \"Enter\": {\n                Conditions: [{\n                        Is: 13,\n                        Not: false\n                    }],\n                Callback: function (event) {\n                    if (this.DOMResults.getAttribute(\"class\").indexOf(\"open\") != -1) {\n                        var liActive = this.DOMResults.querySelector(\"li.active\");\n                        if (liActive !== null) {\n                            event.preventDefault();\n                            this._Select(liActive);\n                            this.DOMResults.setAttribute(\"class\", \"autocomplete\");\n                        }\n                    }\n                },\n                Operator: ConditionOperator.AND,\n                Event: EventType.KEYDOWN\n            },\n            \"KeyUpAndDown_down\": {\n                Conditions: [{\n                        Is: 38,\n                        Not: false\n                    },\n                    {\n                        Is: 40,\n                        Not: false\n                    }],\n                Callback: function (event) {\n                    event.preventDefault();\n                },\n                Operator: ConditionOperator.OR,\n                Event: EventType.KEYDOWN\n            },\n            \"KeyUpAndDown_up\": {\n                Conditions: [{\n                        Is: 38,\n                        Not: false\n                    },\n                    {\n                        Is: 40,\n                        Not: false\n                    }],\n                Callback: function (event) {\n                    event.preventDefault();\n                    var first = this.DOMResults.querySelector(\"li:first-child:not(.locked)\"), last = this.DOMResults.querySelector(\"li:last-child:not(.locked)\"), active = this.DOMResults.querySelector(\"li.active\");\n                    if (active) {\n                        var currentIndex = Array.prototype.indexOf.call(active.parentNode.children, active), position = currentIndex + (event.keyCode - 39), lisCount = this.DOMResults.getElementsByTagName(\"li\").length;\n                        if (position < 0) {\n                            position = lisCount - 1;\n                        }\n                        else if (position >= lisCount) {\n                            position = 0;\n                        }\n                        active.classList.remove(\"active\");\n                        active.parentElement.children.item(position).classList.add(\"active\");\n                    }\n                    else if (last && event.keyCode == 38) {\n                        last.classList.add(\"active\");\n                    }\n                    else if (first) {\n                        first.classList.add(\"active\");\n                    }\n                },\n                Operator: ConditionOperator.OR,\n                Event: EventType.KEYUP\n            },\n            \"AlphaNum\": {\n                Conditions: [{\n                        Is: 13,\n                        Not: true\n                    }, {\n                        From: 35,\n                        To: 40,\n                        Not: true\n                    }],\n                Callback: function () {\n                    var oldValue = this.Input.getAttribute(\"data-autocomplete-old-value\"), currentValue = this._Pre();\n                    if (currentValue !== \"\" && currentValue.length >= this._MinChars()) {\n                        if (!oldValue || currentValue != oldValue) {\n                            this.DOMResults.setAttribute(\"class\", \"autocomplete open\");\n                        }\n                        AutoComplete.prototype.cache(this, function (response) {\n                            this._Render(this._Post(response));\n                            this._Open();\n                        }.bind(this), this._Error);\n                    }\n                    else {\n                        this._Close();\n                    }\n                },\n                Operator: ConditionOperator.AND,\n                Event: EventType.KEYUP\n            }\n        },\n        DOMResults: null,\n        Request: null,\n        Input: null,\n        /**\n         * Return the message when no result returns\n         */\n        _EmptyMessage: function () {\n            var emptyMessage = \"\";\n            if (this.Input.hasAttribute(\"data-autocomplete-empty-message\")) {\n                emptyMessage = this.Input.getAttribute(\"data-autocomplete-empty-message\");\n            }\n            else if (this.EmptyMessage !== false) {\n                emptyMessage = this.EmptyMessage;\n            }\n            else {\n                emptyMessage = \"\";\n            }\n            return emptyMessage;\n        },\n        /**\n         * Returns the maximum number of results\n         */\n        _Limit: function () {\n            var limit = this.Input.getAttribute(\"data-autocomplete-limit\");\n            if (isNaN(limit) || limit === null) {\n                return this.Limit;\n            }\n            return parseInt(limit, 10);\n        },\n        /**\n         * Returns the minimum number of characters entered before firing ajax\n         */\n        _MinChars: function () {\n            var minchars = this.Input.getAttribute(\"data-autocomplete-minchars\");\n            if (isNaN(minchars) || minchars === null) {\n                return this.MinChars;\n            }\n            return parseInt(minchars, 10);\n        },\n        /**\n         * Apply transformation on labels response\n         */\n        _Highlight: function (label) {\n            return label.replace(this.Highlight.getRegex(this._Pre()), this.Highlight.transform);\n        },\n        /**\n         * Returns the HHTP method to use\n         */\n        _HttpMethod: function () {\n            if (this.Input.hasAttribute(\"data-autocomplete-method\")) {\n                return this.Input.getAttribute(\"data-autocomplete-method\");\n            }\n            return this.HttpMethod;\n        },\n        /**\n         * Returns the query param to use\n         */\n        _QueryArg: function () {\n            if (this.Input.hasAttribute(\"data-autocomplete-param-name\")) {\n                return this.Input.getAttribute(\"data-autocomplete-param-name\");\n            }\n            return this.QueryArg;\n        },\n        /**\n         * Returns the URL to use for AJAX request\n         */\n        _Url: function () {\n            if (this.Input.hasAttribute(\"data-autocomplete\")) {\n                return this.Input.getAttribute(\"data-autocomplete\");\n            }\n            return this.Url;\n        },\n        /**\n         * Manage the close\n         */\n        _Blur: function (now) {\n            if (now === void 0) { now = false; }\n            if (now) {\n                this._Close();\n            }\n            else {\n                var params = this;\n                setTimeout(function () {\n                    params._Blur(true);\n                }, 150);\n            }\n        },\n        /**\n         * Manage the cache\n         */\n        _Cache: function (value) {\n            return this.$Cache[value];\n        },\n        /**\n         * Manage the open\n         */\n        _Focus: function () {\n            var oldValue = this.Input.getAttribute(\"data-autocomplete-old-value\");\n            if ((!oldValue || this.Input.value != oldValue) && this._MinChars() <= this.Input.value.length) {\n                this.DOMResults.setAttribute(\"class\", \"autocomplete open\");\n            }\n        },\n        /**\n         * Bind all results item if one result is opened\n         */\n        _Open: function () {\n            var params = this;\n            Array.prototype.forEach.call(this.DOMResults.getElementsByTagName(\"li\"), function (li) {\n                if (li.getAttribute(\"class\") != \"locked\") {\n                    li.onclick = function () {\n                        params._Select(li);\n                    };\n                }\n            });\n        },\n        _Close: function () {\n            this.DOMResults.setAttribute(\"class\", \"autocomplete\");\n        },\n        /**\n         * Position the results HTML element\n         */\n        _Position: function () {\n            this.DOMResults.setAttribute(\"class\", \"autocomplete\");\n            this.DOMResults.setAttribute(\"style\", \"top:\" + (this.Input.offsetTop + this.Input.offsetHeight) + \"px;left:\" + this.Input.offsetLeft + \"px;width:\" + this.Input.clientWidth + \"px;\");\n        },\n        /**\n         * Execute the render of results DOM element\n         */\n        _Render: function (response) {\n            var ul;\n            if (typeof response == \"string\") {\n                ul = this._RenderRaw(response);\n            }\n            else {\n                ul = this._RenderResponseItems(response);\n            }\n            if (this.DOMResults.hasChildNodes()) {\n                this.DOMResults.removeChild(this.DOMResults.childNodes[0]);\n            }\n            this.DOMResults.appendChild(ul);\n        },\n        /**\n         * ResponseItems[] rendering\n         */\n        _RenderResponseItems: function (response) {\n            var ul = document.createElement(\"ul\"), li = document.createElement(\"li\"), limit = this._Limit();\n            // Order\n            if (limit < 0) {\n                response = response.reverse();\n            }\n            else if (limit === 0) {\n                limit = response.length;\n            }\n            for (var item = 0; item < Math.min(Math.abs(limit), response.length); item++) {\n                li.innerHTML = response[item].Label;\n                li.setAttribute(\"data-autocomplete-value\", response[item].Value);\n                ul.appendChild(li);\n                li = document.createElement(\"li\");\n            }\n            return ul;\n        },\n        /**\n         * string response rendering (RAW HTML)\n         */\n        _RenderRaw: function (response) {\n            var ul = document.createElement(\"ul\"), li = document.createElement(\"li\");\n            if (response.length > 0) {\n                this.DOMResults.innerHTML = response;\n            }\n            else {\n                var emptyMessage = this._EmptyMessage();\n                if (emptyMessage !== \"\") {\n                    li.innerHTML = emptyMessage;\n                    li.setAttribute(\"class\", \"locked\");\n                    ul.appendChild(li);\n                }\n            }\n            return ul;\n        },\n        /**\n         * Deal with request response\n         */\n        _Post: function (response) {\n            try {\n                var returnResponse = [];\n                //JSON return\n                var json = JSON.parse(response);\n                if (Object.keys(json).length === 0) {\n                    return \"\";\n                }\n                if (Array.isArray(json)) {\n                    for (var i = 0; i < Object.keys(json).length; i++) {\n                        returnResponse[returnResponse.length] = { \"Value\": json[i], \"Label\": this._Highlight(json[i]) };\n                    }\n                }\n                else {\n                    for (var value in json) {\n                        returnResponse.push({\n                            \"Value\": value,\n                            \"Label\": this._Highlight(json[value])\n                        });\n                    }\n                }\n                return returnResponse;\n            }\n            catch (event) {\n                //HTML return\n                return response;\n            }\n        },\n        /**\n         * Return the autocomplete value to send (before request)\n         */\n        _Pre: function () {\n            return this.Input.value;\n        },\n        /**\n         * Choice one result item\n         */\n        _Select: function (item) {\n            if (item.hasAttribute(\"data-autocomplete-value\")) {\n                this.Input.value = item.getAttribute(\"data-autocomplete-value\");\n            }\n            else {\n                this.Input.value = item.innerHTML;\n            }\n            this.Input.setAttribute(\"data-autocomplete-old-value\", this.Input.value);\n        },\n        /**\n         * Handle HTTP error on the request\n         */\n        _Error: function () {\n        },\n        $AjaxTimer: null,\n        $Cache: {},\n        $Listeners: {}\n    };\n    return AutoComplete;\n}());\nmodule.exports = AutoComplete;\n\n},{}]},{},[1])(1)\n});\n","/* SPDX-License-Identifier: AGPL-3.0-or-later */\r\n/* exported AutoComplete */\r\n\r\nimport AutoComplete from  \"../../../node_modules/autocomplete-js/dist/autocomplete.js\";\r\n\r\n(function (w, d, searxng) {\r\n  'use strict';\r\n\r\n  var qinput_id = \"q\", qinput;\r\n\r\n  const isMobile = window.matchMedia(\"only screen and (max-width: 50em)\").matches;\r\n\r\n  function submitIfQuery () {\r\n    if (qinput.value.length  > 0) {\r\n      var search = document.getElementById('search');\r\n      setTimeout(search.submit.bind(search), 0);\r\n    }\r\n  }\r\n\r\n  function createClearButton (qinput) {\r\n    var cs = document.getElementById('clear_search');\r\n    var updateClearButton = function () {\r\n      if (qinput.value.length === 0) {\r\n        cs.classList.add(\"empty\");\r\n      } else {\r\n        cs.classList.remove(\"empty\");\r\n      }\r\n    };\r\n\r\n    // update status, event listener\r\n    updateClearButton();\r\n    cs.addEventListener('click', function (ev) {\r\n      qinput.value = '';\r\n      qinput.focus();\r\n      updateClearButton();\r\n      ev.preventDefault();\r\n    });\r\n    qinput.addEventListener('input', updateClearButton, false);\r\n  }\r\n\r\n  searxng.ready(function () {\r\n    qinput = d.getElementById(qinput_id);\r\n\r\n    if (qinput !== null) {\r\n      // clear button\r\n      createClearButton(qinput);\r\n\r\n      // autocompleter\r\n      if (searxng.settings.autocomplete) {\r\n        searxng.autocomplete = AutoComplete.call(w, {\r\n          Url: \"./autocompleter\",\r\n          EmptyMessage: searxng.settings.translations.no_item_found,\r\n          HttpMethod: searxng.settings.method,\r\n          HttpHeaders: {\r\n            \"Content-type\": \"application/x-www-form-urlencoded\",\r\n            \"X-Requested-With\": \"XMLHttpRequest\"\r\n          },\r\n          MinChars: searxng.settings.autocomplete_min,\r\n          Delay: 300,\r\n          _Position: function () {},\r\n          _Open: function () {\r\n            var params = this;\r\n            Array.prototype.forEach.call(this.DOMResults.getElementsByTagName(\"li\"), function (li) {\r\n              if (li.getAttribute(\"class\") != \"locked\") {\r\n                li.onmousedown = function () {\r\n                  params._Select(li);\r\n                };\r\n              }\r\n            });\r\n          },\r\n          _Select: function (item) {\r\n            AutoComplete.defaults._Select.call(this, item);\r\n            var form = item.closest('form');\r\n            if (form) {\r\n              form.submit();\r\n            }\r\n          },\r\n          _MinChars: function () {\r\n            if (this.Input.value.indexOf('!') > -1) {\r\n              return 0;\r\n            } else {\r\n              return AutoComplete.defaults._MinChars.call(this);\r\n            }\r\n          },\r\n          KeyboardMappings: Object.assign({}, AutoComplete.defaults.KeyboardMappings, {\r\n            \"KeyUpAndDown_up\": Object.assign({}, AutoComplete.defaults.KeyboardMappings.KeyUpAndDown_up, {\r\n              Callback: function (event) {\r\n                AutoComplete.defaults.KeyboardMappings.KeyUpAndDown_up.Callback.call(this, event);\r\n                var liActive = this.DOMResults.querySelector(\"li.active\");\r\n                if (liActive) {\r\n                  AutoComplete.defaults._Select.call(this, liActive);\r\n                }\r\n              },\r\n            }),\r\n            \"Tab\": Object.assign({}, AutoComplete.defaults.KeyboardMappings.Enter, {\r\n              Conditions: [{\r\n                Is: 9,\r\n                Not: false\r\n              }],\r\n              Callback: function (event) {\r\n                if (this.DOMResults.getAttribute(\"class\").indexOf(\"open\") != -1) {\r\n                  var liActive = this.DOMResults.querySelector(\"li.active\");\r\n                  if (liActive !== null) {\r\n                    AutoComplete.defaults._Select.call(this, liActive);\r\n                    event.preventDefault();\r\n                  }\r\n                }\r\n              },\r\n            })\r\n          }),\r\n        }, \"#\" + qinput_id);\r\n      }\r\n\r\n      /*\r\n        Monkey patch autocomplete.js to fix a bug\r\n        With the POST method, the values are not URL encoded: query like \"1 + 1\" are sent as \"1  1\" since space are URL encoded as plus.\r\n        See HTML specifications:\r\n        * HTML5: https://url.spec.whatwg.org/#concept-urlencoded-serializer\r\n        * HTML4: https://www.w3.org/TR/html401/interact/forms.html#h-17.13.4.1\r\n\r\n        autocomplete.js does not URL encode the name and values:\r\n        https://github.com/autocompletejs/autocomplete.js/blob/87069524f3b95e68f1b54d8976868e0eac1b2c83/src/autocomplete.ts#L665\r\n\r\n        The monkey patch overrides the compiled version of the ajax function.\r\n        See https://github.com/autocompletejs/autocomplete.js/blob/87069524f3b95e68f1b54d8976868e0eac1b2c83/dist/autocomplete.js#L143-L158\r\n        The patch changes only the line 156 from\r\n          params.Request.send(params._QueryArg() + \"=\" + params._Pre());\r\n        to\r\n          params.Request.send(encodeURIComponent(params._QueryArg()) + \"=\" + encodeURIComponent(params._Pre()));\r\n\r\n        Related to:\r\n        * https://github.com/autocompletejs/autocomplete.js/issues/78\r\n        * https://github.com/searxng/searxng/issues/1695\r\n       */\r\n      AutoComplete.prototype.ajax = function (params, request, timeout) {\r\n        if (timeout === void 0) { timeout = true; }\r\n        if (params.$AjaxTimer) {\r\n          window.clearTimeout(params.$AjaxTimer);\r\n        }\r\n        if (timeout === true) {\r\n          params.$AjaxTimer = window.setTimeout(AutoComplete.prototype.ajax.bind(null, params, request, false), params.Delay);\r\n        } else {\r\n          if (params.Request) {\r\n            params.Request.abort();\r\n          }\r\n          params.Request = request;\r\n          params.Request.send(encodeURIComponent(params._QueryArg()) + \"=\" + encodeURIComponent(params._Pre()));\r\n        }\r\n      };\r\n\r\n      if (!isMobile && document.querySelector('.index_endpoint')) {\r\n        qinput.focus();\r\n      }\r\n    }\r\n\r\n    // Additionally to searching when selecting a new category, we also\r\n    // automatically start a new search request when the user changes a search\r\n    // filter (safesearch, time range or language) (this requires JavaScript\r\n    // though)\r\n    if (\r\n      qinput !== null\r\n        && searxng.settings.search_on_category_select\r\n      // If .search_filters is undefined (invisible) we are on the homepage and\r\n      // hence don't have to set any listeners\r\n        && d.querySelector(\".search_filters\") != null\r\n    ) {\r\n      searxng.on(d.getElementById('safesearch'), 'change', submitIfQuery);\r\n      searxng.on(d.getElementById('time_range'), 'change', submitIfQuery);\r\n      searxng.on(d.getElementById('language'), 'change', submitIfQuery);\r\n    }\r\n\r\n    const categoryButtons = d.querySelectorAll(\"button.category_button\");\r\n    for (let button of categoryButtons) {\r\n      searxng.on(button, 'click', (event) => {\r\n        if (event.shiftKey) {\r\n          event.preventDefault();\r\n          button.classList.toggle(\"selected\");\r\n          return;\r\n        }\r\n\r\n        // manually deselect the old selection when a new category is selected\r\n        const selectedCategories = d.querySelectorAll(\"button.category_button.selected\");\r\n        for (let categoryButton of selectedCategories) {\r\n          categoryButton.classList.remove(\"selected\");\r\n        }\r\n        button.classList.add(\"selected\");\r\n      })\r\n    }\r\n\r\n    // override form submit action to update the actually selected categories\r\n    const form = d.querySelector(\"#search\");\r\n    if (form != null) {\r\n      searxng.on(form, 'submit', (event) => {\r\n        event.preventDefault();\r\n        const categoryValuesInput = d.querySelector(\"#selected-categories\");\r\n        if (categoryValuesInput) {\r\n          let categoryValues = [];\r\n          for (let categoryButton of categoryButtons) {\r\n            if (categoryButton.classList.contains(\"selected\")) {\r\n              categoryValues.push(categoryButton.name.replace(\"category_\", \"\"));\r\n            }\r\n          }\r\n          categoryValuesInput.value = categoryValues.join(\",\");\r\n        }\r\n        form.submit();\r\n      });\r\n    }\r\n  });\r\n\r\n})(window, document, window.searxng);\r\n"],"names":["w","ElementPrototype","selector","node","nodes","i","callbackSafe","callback","el","e","exception","searxng","obj","eventType","useCapture","found","method","url","data","resolve","reject","req","ex","src","path","id","s","newNode","referenceNode","getEndpoint","className","d","onlyImages","newLoadSpinner","loader","replaceChildrenWith","element","children","child","loadNextPage","form","formData","response","nextPageDoc","articleList","paginationElement","articleElement","err","intersectionObserveOptions","observedSelector","observer","entries","paginationEntry","isElementInDetail","getResultElement","isImageResult","resultElement","highlightResult","baseKeyBinding","removeFocus","copyURLToClipboard","toggleHelp","searchInputFocus","GoToNextPage","openResult","GoToPreviousPage","reloadPage","keyBindingLayouts","scrollPage","scrollPageTo","keyBindings","tagName","which","noScroll","keepFocus","current","effectiveWhich","next","results","top","bot","etop","ebot","link","scrollPageToSelected","pageButtonClick","css_selector","button","sel","wtop","wheight","offset","wbot","amount","position","nav","q","len","newTab","initHelpContent","divElement","categories","k","key","sorted","a","b","html","cat","lastCategory","first","cj","helpPanel","body","currentUrlElement","event","leaflet_target","map_lon","map_lat","map_zoom","map_boundingbox","map_geojson","map_bounds","southWest","northEast","map","osmMapnikUrl","osmMapnikAttrib","osmMapnik","osmWikimediaUrl","osmWikimediaAttrib","osmWikimedia","baseLayers","engine_descriptions","load_engine_descriptions","content","engine_name","description","elements","source","enableAllEngines","disableAllEngines","engineToggles","toggleEngines","enable","copyHashButton","img","btnLabelCollapsed","btnLabelNotCollapsed","target","targetElement","iframe_load","srctest","imgTimeoutID","imgLoaderSpinner","imgLoader","loadImage","imgSrc","onSuccess","thumbnail","scrollTop","f","module","r","n","t","o","c","require","u","p","exports","ConditionOperator","EventType","AutoComplete","params","input","specificParams","type","mappings","eventIdentifier","condition","match","mapping","name","callbackErr","propertyHttpHeaders","request","queryParams","queryParamsStringify","timeout","merge","tmp","value","liActive","last","active","currentIndex","lisCount","oldValue","currentValue","emptyMessage","limit","minchars","label","now","li","ul","item","returnResponse","json","qinput_id","qinput","isMobile","submitIfQuery","search","createClearButton","cs","updateClearButton","ev","categoryButtons","selectedCategories","categoryButton","categoryValuesInput","categoryValues"],"mappings":"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","x_google_ignoreList":[6]}